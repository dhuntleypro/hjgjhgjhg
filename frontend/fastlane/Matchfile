git_url("https://x-access-token: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@github.com/appsformankind/fastlane-match-repo.git")
git_branch("main")
type("appstore")
storage_mode("git")
generate_apple_certs(true)
readonly(false)

team_id(ENV['APPLE_TEAM_ID'])
app_identifier(ENV['APP_IDENTIFIER'])

keychain_name("login.keychain")
keychain_password(ENV['MATCH_PASSWORD'])

api_key(
  key_id: ENV['APP_STORE_CONNECT_KEY_ID'],
  issuer_id: ENV['APP_STORE_CONNECT_ISSUER_ID'],
  key_content: ENV['APP_STORE_CONNECT_P8_BASE64'],
  is_key_content_base64: true
)



# git_branch("main") # The branch to use in the git repo

# # clone_branch_directly(true) # Optional: to speed up the cloning process

# # Set your app store certificate type (appstore, development, adhoc, enterprise)
# type("appstore")

# # Optional: Generate new Apple certificates if needed
# generate_apple_certs(true)

# # Storage settings
# storage_mode("git") # Git-based certificate storage

# # User and team settings
# username(ENV['FASTLANE_USER']) # Ensure FASTLANE_USER is set in your environment
# team_id(ENV['APPLE_TEAM_ID']) # Your Apple Team ID
# app_identifier(ENV['APP_IDENTIFIER'])

# # Keychain settings (you already have this set correctly)
# keychain_name("login.keychain")
# keychain_password(ENV['FASTLANE_PASSWORD']) # Ensure this is set in your environment
# # Set readonly to false so Fastlane can create certificates if needed
# readonly(false)

# # Additional optional settings can be added here if necessary

# keychain_password(ENV['MATCH_PASSWORD']) # âœ… For unlocking macOS keychain

# # git_url("https://x-access-token:#{ENV['MATCH_GIT_TOKEN']}@github.com/appsformankind/fastlane-match-repo.git")
# git_url("https://x-access-token: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@github.com/appsformankind/fastlane-match-repo.git")
